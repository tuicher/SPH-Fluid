// ExtractBit.comp
#version 460
layout(local_size_x = 128) in;

layout(std430, binding = 0) buffer Keys {
    uint keys[]; // los Ã­ndices de celda
};

layout(std430, binding = 1) buffer BitMask {
    uint bits[]; // cada bit[i] = (keys[i] >> bit) & 1
};

uniform uint uBit;

void main()
{
    uint i = gl_GlobalInvocationID.x;
    bits[i] = (keys[i] >> uBit) & 1u;
}
